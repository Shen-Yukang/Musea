# å†¥æƒ³éŸ³é¢‘é…ç½®æŒ‡å—

## ğŸ“ éŸ³é¢‘æ–‡ä»¶æ”¾ç½®æ–¹å¼

### æ–¹å¼ä¸€ï¼šæœ¬åœ°æ–‡ä»¶æ”¾ç½®ï¼ˆæ¨èï¼‰

1. **åˆ›å»ºéŸ³é¢‘æ–‡ä»¶å¤¹**
   åœ¨Chromeæ‰©å±•çš„ `public` ç›®å½•ä¸‹åˆ›å»º `meditation` æ–‡ä»¶å¤¹ï¼š
   ```
   chrome-extension/public/meditation/
   ```

2. **æ”¾ç½®éŸ³é¢‘æ–‡ä»¶**
   å°†ä½ çš„éŸ³é¢‘æ–‡ä»¶æŒ‰ä»¥ä¸‹å‘½åè§„åˆ™æ”¾ç½®ï¼ˆæ”¯æŒå¤šç§æ ¼å¼ï¼‰ï¼š
   ```
   chrome-extension/public/meditation/
   â”œâ”€â”€ forest.ogg          # æ£®æ—åœºæ™¯ï¼ˆæ¨èOGGæ ¼å¼ï¼‰
   â”œâ”€â”€ forest.mp3          # æ£®æ—åœºæ™¯ï¼ˆå¤‡ç”¨MP3æ ¼å¼ï¼‰
   â”œâ”€â”€ ocean.ogg           # æµ·æ´‹åœºæ™¯
   â”œâ”€â”€ ocean.mp3           # æµ·æ´‹åœºæ™¯ï¼ˆå¤‡ç”¨ï¼‰
   â”œâ”€â”€ rain.ogg            # é›¨å£°åœºæ™¯
   â”œâ”€â”€ rain.mp3            # é›¨å£°åœºæ™¯ï¼ˆå¤‡ç”¨ï¼‰
   â”œâ”€â”€ birds.ogg           # é¸Ÿé¸£åœºæ™¯
   â”œâ”€â”€ cafe.ogg            # å’–å•¡å…åœºæ™¯
   â”œâ”€â”€ library.ogg         # å›¾ä¹¦é¦†åœºæ™¯
   â”œâ”€â”€ white_noise.ogg     # ç™½å™ªéŸ³åœºæ™¯
   â”œâ”€â”€ temple.ogg          # å¯ºåº™åœºæ™¯
   â””â”€â”€ singing_bowl.ogg    # é¢‚é’µåœºæ™¯
   ```

   **æ ¼å¼ä¼˜å…ˆçº§**: OGG > MP3 > WAV
   - ç³»ç»Ÿä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³å¯ç”¨æ ¼å¼
   - å»ºè®®ä¼˜å…ˆä½¿ç”¨OGGæ ¼å¼ï¼ˆæ›´å°çš„æ–‡ä»¶å¤§å°ï¼Œæ›´å¥½çš„éŸ³è´¨ï¼‰

3. **é‡æ–°æ„å»ºæ‰©å±•**
   ```bash
   pnpm build
   ```

### æ–¹å¼äºŒï¼šåœ¨çº¿éŸ³é¢‘URLé…ç½®

å¦‚æœä½ æƒ³ä½¿ç”¨åœ¨çº¿éŸ³é¢‘èµ„æºï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨å¼€å‘è€…å·¥å…·é…ç½®ï¼š

1. **æ‰“å¼€å¼€å‘è€…å·¥å…·**
   - æŒ‰ F12 æˆ–å³é”®é€‰æ‹©"æ£€æŸ¥"
   - åˆ‡æ¢åˆ° Console æ ‡ç­¾

2. **é…ç½®è‡ªå®šä¹‰éŸ³é¢‘URL**
   ```javascript
   // è®¾ç½®æ£®æ—åœºæ™¯çš„éŸ³é¢‘URL
   chrome.storage.local.get(['meditation-storage-key'], (result) => {
     const config = result['meditation-storage-key'] || {};
     config.customAudioUrls = config.customAudioUrls || {};
     config.customAudioUrls.forest = 'https://example.com/forest-sounds.mp3';
     chrome.storage.local.set({'meditation-storage-key': config});
   });
   
   // è®¾ç½®å¤šä¸ªåœºæ™¯
   chrome.storage.local.get(['meditation-storage-key'], (result) => {
     const config = result['meditation-storage-key'] || {};
     config.customAudioUrls = {
       forest: 'https://example.com/forest.mp3',
       ocean: 'https://example.com/ocean.mp3',
       rain: 'https://example.com/rain.mp3',
       // ... å…¶ä»–åœºæ™¯
     };
     chrome.storage.local.set({'meditation-storage-key': config});
   });
   ```

3. **ç§»é™¤è‡ªå®šä¹‰URL**
   ```javascript
   chrome.storage.local.get(['meditation-storage-key'], (result) => {
     const config = result['meditation-storage-key'] || {};
     if (config.customAudioUrls) {
       delete config.customAudioUrls.forest; // ç§»é™¤æ£®æ—åœºæ™¯çš„è‡ªå®šä¹‰URL
       chrome.storage.local.set({'meditation-storage-key': config});
     }
   });
   ```

## ğŸµ éŸ³é¢‘æ–‡ä»¶è¦æ±‚

### ä¸ºä»€ä¹ˆæ¨èOGGæ ¼å¼ï¼Ÿ

OGG Vorbisæ˜¯ä¸€ç§å¼€æºçš„éŸ³é¢‘å‹ç¼©æ ¼å¼ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

#### ğŸ¯ æŠ€æœ¯ä¼˜åŠ¿
- **æ›´å¥½çš„å‹ç¼©ç‡**: ç›¸åŒéŸ³è´¨ä¸‹æ–‡ä»¶æ¯”MP3å°20-30%
- **æ›´é«˜çš„éŸ³è´¨**: åœ¨ä½æ¯”ç‰¹ç‡ä¸‹éŸ³è´¨ä¼˜äºMP3
- **æ— ä¸“åˆ©é™åˆ¶**: å®Œå…¨å¼€æºï¼Œæ— ç‰ˆæƒé—®é¢˜
- **æ›´å¥½çš„å¾ªç¯**: æ”¯æŒæ— ç¼å¾ªç¯æ’­æ”¾

#### ğŸ’¡ å®é™…æ•ˆæœ
- **æ–‡ä»¶å¤§å°**: 10åˆ†é’Ÿå†¥æƒ³éŸ³é¢‘çº¦2-4MB (vs MP3çš„3-6MB)
- **åŠ è½½é€Ÿåº¦**: æ›´å°çš„æ–‡ä»¶æ„å‘³ç€æ›´å¿«çš„åŠ è½½
- **éŸ³è´¨è¡¨ç°**: ç‰¹åˆ«é€‚åˆç¯å¢ƒéŸ³å’Œè‡ªç„¶å£°éŸ³
- **æµè§ˆå™¨æ”¯æŒ**: ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒOGGæ’­æ”¾

#### ğŸ”„ å…¼å®¹æ€§
- **Chrome**: âœ… å®Œå…¨æ”¯æŒ
- **Firefox**: âœ… å®Œå…¨æ”¯æŒ
- **Safari**: âš ï¸ éƒ¨åˆ†æ”¯æŒ (å»ºè®®æä¾›MP3å¤‡ç”¨)
- **Edge**: âœ… å®Œå…¨æ”¯æŒ

### æ ¼å¼æ”¯æŒ
- **æ¨èæ ¼å¼**:
  1. **OGG Vorbis** (é¦–é€‰) - å¼€æºæ ¼å¼ï¼Œå‹ç¼©ç‡é«˜ï¼ŒéŸ³è´¨ä¼˜ç§€
  2. **MP3** - é€šç”¨æ ¼å¼ï¼Œå…¼å®¹æ€§å¥½
  3. **WAV** - æ— æŸæ ¼å¼ï¼Œæ–‡ä»¶è¾ƒå¤§
- **æ–‡ä»¶å¤§å°**:
  - OGG: å»ºè®®æ¯ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 5MB
  - MP3: å»ºè®®æ¯ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 8MB
  - WAV: å»ºè®®æ¯ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 15MB
- **æ—¶é•¿**: å»ºè®®è‡³å°‘ 5-10 åˆ†é’Ÿï¼Œæ”¯æŒå¾ªç¯æ’­æ”¾

### éŸ³è´¨å»ºè®®

#### OGG Vorbis (æ¨è)
- **è´¨é‡ç­‰çº§**: q4-q6 (çº¦128-192kbps)
- **é‡‡æ ·ç‡**: 44.1kHz æˆ– 48kHz
- **å£°é“**: ç«‹ä½“å£°æˆ–å•å£°é“å‡å¯
- **ä¼˜åŠ¿**: æ–‡ä»¶å°ã€éŸ³è´¨å¥½ã€å¼€æºå…è´¹

#### MP3 (å¤‡ç”¨)
- **æ¯”ç‰¹ç‡**: 128kbps - 192kbps
- **é‡‡æ ·ç‡**: 44.1kHz æˆ– 48kHz
- **ç¼–ç **: CBR æˆ– VBR å‡å¯

#### WAV (é«˜è´¨é‡)
- **æ¯”ç‰¹ç‡**: 16-bit æˆ– 24-bit
- **é‡‡æ ·ç‡**: 44.1kHz æˆ– 48kHz
- **ç”¨é€”**: é€‚åˆé«˜è´¨é‡éŸ³é¢‘æº

## ğŸ”§ éŸ³é¢‘åœºæ™¯è¯´æ˜

| åœºæ™¯ | æ–‡ä»¶å | æè¿° | æ¨èéŸ³é¢‘ç±»å‹ |
|------|--------|------|-------------|
| ğŸŒ² æ£®æ— | `forest.ogg/mp3/wav` | é¸Ÿé¸£ä¸æ ‘å¶æ²™æ²™å£° | è‡ªç„¶æ£®æ—ç¯å¢ƒéŸ³ |
| ğŸŒŠ æµ·æ´‹ | `ocean.ogg/mp3/wav` | æµ·æµªè½»æ‹æµ·å²¸å£° | æµ·æµªå£°ã€æµ·é£å£° |
| ğŸŒ§ï¸ é›¨å£° | `rain.ogg/mp3/wav` | æ¸©æŸ”çš„é›¨æ»´å£° | é›¨æ»´å£°ã€é›·å£°ï¼ˆè½»æŸ”ï¼‰ |
| ğŸ¦ é¸Ÿé¸£ | `birds.ogg/mp3/wav` | æ¸…æ™¨é¸Ÿå„¿æ­Œå”± | å„ç§é¸Ÿç±»å«å£° |
| â˜• å’–å•¡å… | `cafe.ogg/mp3/wav` | æ¸©é¦¨çš„å’–å•¡å…ç¯å¢ƒéŸ³ | è½»æŸ”èƒŒæ™¯éŸ³ä¹ã€äººå£°ä½è¯­ |
| ğŸ“š å›¾ä¹¦é¦† | `library.ogg/mp3/wav` | å®‰é™çš„å­¦ä¹ æ°›å›´ | æè½»çš„ç¯å¢ƒéŸ³ã€ç¿»é¡µå£° |
| ğŸ”Š ç™½å™ªéŸ³ | `white_noise.ogg/mp3/wav` | çº¯å‡€çš„ç™½å™ªéŸ³ | ç™½å™ªéŸ³ã€ç²‰å™ªéŸ³ |
| ğŸ¯ å¯ºåº™ | `temple.ogg/mp3/wav` | å®é™çš„å¯ºåº™é’Ÿå£° | é’Ÿå£°ã€æœ¨é±¼å£°ã€è¯µç»å£° |
| ğŸµ é¢‚é’µ | `singing_bowl.ogg/mp3/wav` | æ²»æ„ˆçš„é¢‚é’µéŸ³ | è¥¿è—é¢‚é’µã€æ°´æ™¶é’µå£° |
| ğŸ¤« é™éŸ³ | - | å®Œå…¨å®‰é™çš„å†¥æƒ³ | æ— éœ€éŸ³é¢‘æ–‡ä»¶ |

**æ³¨æ„**: ç³»ç»Ÿä¼šæŒ‰ OGG â†’ MP3 â†’ WAV çš„ä¼˜å…ˆçº§è‡ªåŠ¨é€‰æ‹©å¯ç”¨æ ¼å¼

## ğŸ¯ ä½¿ç”¨æŠ€å·§

### 1. éŸ³é¢‘å¾ªç¯
- æ‰€æœ‰éŸ³é¢‘éƒ½ä¼šè‡ªåŠ¨å¾ªç¯æ’­æ”¾
- ç¡®ä¿éŸ³é¢‘å¼€å¤´å’Œç»“å°¾èƒ½å¤Ÿæ— ç¼è¡”æ¥

### 2. éŸ³é‡æ§åˆ¶
- åœ¨å†¥æƒ³è®¾ç½®ä¸­å¯ä»¥è°ƒèŠ‚éŸ³é‡ï¼ˆ0-100%ï¼‰
- å»ºè®®éŸ³é‡è®¾ç½®åœ¨ 30-60% ä¹‹é—´

### 3. æµ‹è¯•éŸ³é¢‘
- é…ç½®å®Œæˆåï¼Œå¯åŠ¨ä¸€ä¸ªçŸ­æ—¶é—´çš„å†¥æƒ³ä¼šè¯è¿›è¡Œæµ‹è¯•
- æ£€æŸ¥éŸ³é¢‘æ˜¯å¦æ­£å¸¸æ’­æ”¾å’Œå¾ªç¯

## ğŸ” æ•…éšœæ’é™¤

### éŸ³é¢‘æ— æ³•æ’­æ”¾
1. **æ£€æŸ¥æ–‡ä»¶è·¯å¾„**: ç¡®ä¿æ–‡ä»¶åå’Œè·¯å¾„æ­£ç¡®
2. **æ£€æŸ¥æ–‡ä»¶æ ¼å¼**: ç¡®ä¿ä½¿ç”¨æ”¯æŒçš„éŸ³é¢‘æ ¼å¼
3. **æ£€æŸ¥æ–‡ä»¶å¤§å°**: è¿‡å¤§çš„æ–‡ä»¶å¯èƒ½å¯¼è‡´åŠ è½½å¤±è´¥
4. **æ£€æŸ¥ç½‘ç»œ**: åœ¨çº¿URLéœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥

### éŸ³é¢‘æ’­æ”¾å¡é¡¿
1. **é™ä½éŸ³è´¨**: ä½¿ç”¨è¾ƒä½æ¯”ç‰¹ç‡çš„éŸ³é¢‘æ–‡ä»¶
2. **ä½¿ç”¨æœ¬åœ°æ–‡ä»¶**: æœ¬åœ°æ–‡ä»¶æ¯”åœ¨çº¿URLæ›´ç¨³å®š
3. **æ£€æŸ¥ç³»ç»Ÿèµ„æº**: ç¡®ä¿ç³»ç»Ÿæœ‰è¶³å¤Ÿçš„å†…å­˜

### è‡ªå®šä¹‰URLä¸ç”Ÿæ•ˆ
1. **æ£€æŸ¥URLæœ‰æ•ˆæ€§**: ç¡®ä¿URLå¯ä»¥ç›´æ¥è®¿é—®
2. **æ£€æŸ¥CORSç­–ç•¥**: æŸäº›ç½‘ç«™å¯èƒ½é™åˆ¶è·¨åŸŸè®¿é—®
3. **é‡æ–°é…ç½®**: æ¸…é™¤é…ç½®åé‡æ–°è®¾ç½®

## ğŸ“š æ¨èèµ„æº

### å…è´¹éŸ³é¢‘èµ„æºç½‘ç«™
- **Freesound.org**: å¤§é‡å…è´¹ç¯å¢ƒéŸ³æ•ˆ
- **Zapsplat.com**: ä¸“ä¸šéŸ³æ•ˆåº“ï¼ˆéœ€æ³¨å†Œï¼‰
- **BBC Sound Effects**: BBCå¼€æ”¾çš„éŸ³æ•ˆåº“

### éŸ³é¢‘ç¼–è¾‘å·¥å…·
- **Audacity**: å…è´¹å¼€æºéŸ³é¢‘ç¼–è¾‘å™¨ï¼Œæ”¯æŒOGGå¯¼å‡º
- **GarageBand**: Macç”¨æˆ·çš„éŸ³é¢‘ç¼–è¾‘å·¥å…·
- **Adobe Audition**: ä¸“ä¸šéŸ³é¢‘ç¼–è¾‘è½¯ä»¶
- **FFmpeg**: å‘½ä»¤è¡ŒéŸ³é¢‘è½¬æ¢å·¥å…·

### OGGæ ¼å¼è½¬æ¢

#### ä½¿ç”¨Audacityè½¬æ¢ä¸ºOGG
1. æ‰“å¼€Audacityï¼Œå¯¼å…¥éŸ³é¢‘æ–‡ä»¶
2. é€‰æ‹© `æ–‡ä»¶` â†’ `å¯¼å‡º` â†’ `å¯¼å‡ºä¸ºOGG`
3. è®¾ç½®è´¨é‡ç­‰çº§ä¸º 4-6 (æ¨è)
4. ç‚¹å‡»ä¿å­˜

#### ä½¿ç”¨FFmpegå‘½ä»¤è¡Œè½¬æ¢
```bash
# è½¬æ¢MP3ä¸ºOGG (è´¨é‡ç­‰çº§5)
ffmpeg -i input.mp3 -c:a libvorbis -q:a 5 output.ogg

# æ‰¹é‡è½¬æ¢å½“å‰ç›®å½•æ‰€æœ‰MP3æ–‡ä»¶
for file in *.mp3; do
  ffmpeg -i "$file" -c:a libvorbis -q:a 5 "${file%.mp3}.ogg"
done
```

#### åœ¨çº¿è½¬æ¢å·¥å…·
- **CloudConvert**: æ”¯æŒOGGæ ¼å¼çš„åœ¨çº¿è½¬æ¢
- **Online-Convert**: å…è´¹éŸ³é¢‘æ ¼å¼è½¬æ¢
- **Convertio**: æ”¯æŒæ‰¹é‡è½¬æ¢

## ğŸ’¡ é«˜çº§é…ç½®

### æ‰¹é‡é…ç½®å¤šä¸ªURL
```javascript
const audioUrls = {
  forest: 'https://example.com/forest.mp3',
  ocean: 'https://example.com/ocean.mp3',
  rain: 'https://example.com/rain.mp3',
  birds: 'https://example.com/birds.mp3',
  cafe: 'https://example.com/cafe.mp3',
  library: 'https://example.com/library.mp3',
  white_noise: 'https://example.com/white_noise.mp3',
  temple: 'https://example.com/temple.mp3',
  singing_bowl: 'https://example.com/singing_bowl.mp3'
};

chrome.storage.local.get(['meditation-storage-key'], (result) => {
  const config = result['meditation-storage-key'] || {};
  config.customAudioUrls = audioUrls;
  chrome.storage.local.set({'meditation-storage-key': config});
  console.log('æ‰€æœ‰éŸ³é¢‘URLé…ç½®å®Œæˆï¼');
});
```

### æŸ¥çœ‹å½“å‰é…ç½®
```javascript
chrome.storage.local.get(['meditation-storage-key'], (result) => {
  console.log('å½“å‰å†¥æƒ³é…ç½®:', result['meditation-storage-key']);
});
```

---

**æ³¨æ„**: é…ç½®å®Œæˆåï¼Œå»ºè®®é‡å¯Chromeæ‰©å±•ä»¥ç¡®ä¿æ‰€æœ‰æ›´æ”¹ç”Ÿæ•ˆã€‚
